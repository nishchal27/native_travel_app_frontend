{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport React, { useState, useEffect } from 'react';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport reusable from \"../../components/Reusable/reusable.style\";\nimport styles from \"./search.style\";\nimport { Feather, AntDesign } from '@expo/vector-icons';\nimport { COLORS, SIZES } from \"../../constants/theme\";\nimport { AppBar, HeightSpacer } from \"../../components\";\nimport ReusableTile from \"../../components/Reusable/ReusableTile\";\nimport axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Search = function Search(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    searchKey = _useState2[0],\n    setSearchKey = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    searchResults = _useState4[0],\n    setSearchResults = _useState4[1];\n  var handleSearch = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var response = yield axios.get(`nativetravelappbackend-production.up.railway.app/api/places/search/${searchKey}`);\n        setSearchResults(response.data);\n      } catch (error) {\n        console.log(\"Failed to get products\", error);\n      }\n    });\n    return function handleSearch() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(SafeAreaView, {\n    style: reusable.container,\n    children: [_jsxs(View, {\n      style: styles.searchContainer,\n      children: [_jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate('Bottom');\n        },\n        children: _jsx(AntDesign, {\n          name: \"closecircleo\",\n          size: SIZES.xLarge,\n          color: COLORS.red,\n          style: {\n            padding: 12\n          }\n        })\n      }), _jsx(View, {\n        style: styles.searchWrapper,\n        children: _jsx(TextInput, {\n          style: styles.input,\n          value: searchKey,\n          onChangeText: setSearchKey,\n          placeholder: \"Where do you want to visit\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.searchBtn,\n        onPress: handleSearch,\n        children: _jsx(Feather, {\n          name: \"search\",\n          size: 24,\n          color: COLORS.white\n        })\n      })]\n    }), searchResults.length === 0 ? _jsxs(View, {\n      children: [_jsx(HeightSpacer, {\n        height: '20%'\n      }), _jsx(Image, {\n        source: require(\"../../assets/images/search.png\"),\n        style: styles.searchImage\n      })]\n    }) : _jsx(FlatList, {\n      data: searchResults,\n      keyExtractor: function keyExtractor(item) {\n        return item._id;\n      },\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsx(View, {\n          style: styles.tile,\n          children: _jsx(ReusableTile, {\n            item: item,\n            onPress: function onPress() {\n              return navigation.navigate('PlaceDetails', item._id);\n            }\n          })\n        });\n      }\n    })]\n  });\n};\nexport default Search;","map":{"version":3,"names":["React","useState","useEffect","SafeAreaView","reusable","styles","Feather","AntDesign","COLORS","SIZES","AppBar","HeightSpacer","ReusableTile","axios","jsx","_jsx","jsxs","_jsxs","Search","_ref","navigation","_useState","_useState2","_slicedToArray","searchKey","setSearchKey","_useState3","_useState4","searchResults","setSearchResults","handleSearch","_ref2","_asyncToGenerator","response","get","data","error","console","log","apply","arguments","style","container","children","View","searchContainer","TouchableOpacity","onPress","navigate","name","size","xLarge","color","red","padding","searchWrapper","TextInput","input","value","onChangeText","placeholder","searchBtn","white","length","height","Image","source","require","searchImage","FlatList","keyExtractor","item","_id","renderItem","_ref3","tile"],"sources":["C:/Users/nishchal/Documents/github/native_travel_app_frontend/screens/search/Search.jsx"],"sourcesContent":["import { View, Text, TextInput, TouchableOpacity, Image, FlatList} from 'react-native'\nimport React, {useState, useEffect} from 'react'\nimport { SafeAreaView } from 'react-native-safe-area-context'\nimport reusable from '../../components/Reusable/reusable.style'\nimport styles from './search.style';\nimport {Feather, AntDesign } from '@expo/vector-icons'\nimport { COLORS, SIZES } from '../../constants/theme';\nimport { AppBar, HeightSpacer } from '../../components';\nimport ReusableTile from '../../components/Reusable/ReusableTile';\nimport axios from 'axios';\n\nconst Search = ({navigation}) => {\n  const [searchKey, setSearchKey] = useState('')\n  const [searchResults, setSearchResults] = useState([])\n  \n  const handleSearch = async() =>{\n    try {\n      const response = await axios.get(`nativetravelappbackend-production.up.railway.app/api/places/search/${searchKey}`)\n      setSearchResults(response.data)\n    } catch (error) {\n      console.log(\"Failed to get products\" , error);\n    }\n  };\n\n\n\n  return (\n   <SafeAreaView style={reusable.container}>\n     \n    <View style={styles.searchContainer}>\n    <TouchableOpacity onPress={()=> navigation.navigate('Bottom')}>\n          <AntDesign\n            name=\"closecircleo\"\n            size={SIZES.xLarge}\n            color={COLORS.red}\n            style={{padding: 12}}\n          />\n        </TouchableOpacity>\n      <View style={styles.searchWrapper}>\n      \n        <TextInput \n        style={styles.input}\n        value={searchKey}\n        onChangeText={setSearchKey}\n        placeholder='Where do you want to visit'\n        />\n      </View>\n\n      <TouchableOpacity style={styles.searchBtn} onPress={handleSearch}>\n        <Feather name='search' size={24} color={COLORS.white}/>\n      </TouchableOpacity>\n    </View>\n\n    {searchResults.length === 0 ? (\n      <View>\n        <HeightSpacer height={'20%'}/>\n        <Image \n        source={require('../../assets/images/search.png')}\n        style={styles.searchImage}\n      />\n      </View>\n    ): (\n      <FlatList \n      data={searchResults}\n      keyExtractor={(item)=> item._id}\n      renderItem={({item})=> (\n        <View style={styles.tile}>\n        <ReusableTile item={item} onPress={()=> navigation.navigate('PlaceDetails', item._id)}/>\n        </View>\n      )}\n      />\n    )}\n\n   </SafeAreaView>\n  )\n}\n\nexport default Search"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}