{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport React, { useState } from \"react\";\nimport { ReusableBtn, HeightSpacer, ReusableText, AppBar } from \"../../../components\";\nimport { COLORS, SIZES } from \"../../../constants/theme\";\nimport styles from \"./addReviews.style\";\nimport { Rating, RatingInput } from \"react-native-stock-star-rating\";\nimport { useRoute } from \"@react-navigation/native\";\nimport axios from \"axios\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AddReviews = function AddReviews(_ref) {\n  var navigation = _ref.navigation;\n  var router = useRoute();\n  var placeId = router.params;\n  var _React$useState = React.useState(0),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    rating = _React$useState2[0],\n    setRating = _React$useState2[1];\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    reviewInput = _useState2[0],\n    setReviewInput = _useState2[1];\n  var postReviews = function () {\n    var _ref2 = _asyncToGenerator(function* (review, rating) {\n      var userId = yield AsyncStorage.getItem('id');\n      var token = yield AsyncStorage.getItem('token');\n      var accessToken = JSON.parse(token);\n      var id = JSON.parse(userId);\n      var endpoint = 'nativetravelappbackend-production.up.railway.app/api/reviews';\n      var data = {\n        \"review\": review,\n        \"rating\": rating,\n        \"user\": id,\n        \"place\": placeId\n      };\n      try {\n        var response = yield axios.post(endpoint, data, {\n          headers: {\n            Authorization: `Bearer ${accessToken}`\n          }\n        });\n        if (response.status === 200) {\n          navigation.replace(\"HotelDetails\", placeId);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function postReviews(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    children: [_jsx(View, {\n      style: {\n        height: 100\n      },\n      children: _jsx(AppBar, {\n        top: 40,\n        left: 20,\n        right: 20,\n        title: 'Add Comment',\n        color: COLORS.white,\n        onPress: function onPress() {\n          return navigation.goBack();\n        }\n      })\n    }), _jsxs(View, {\n      style: {\n        margin: 20,\n        paddingTop: 30\n      },\n      children: [_jsx(ReusableText, {\n        text: \"Rate your stay\",\n        family: \"medium\",\n        size: SIZES.large - 3,\n        color: COLORS.black\n      }), _jsx(HeightSpacer, {\n        height: 15\n      }), _jsx(RatingInput, {\n        rating: rating,\n        setRating: setRating,\n        size: 70,\n        maxStars: 5,\n        bordered: false,\n        color: \"#FD9942\"\n      }), _jsx(HeightSpacer, {\n        height: 15\n      }), _jsx(ReusableText, {\n        text: \"Your review\",\n        family: \"medium\",\n        size: SIZES.large - 3,\n        color: COLORS.black\n      }), _jsx(HeightSpacer, {\n        height: 15\n      }), _jsx(View, {\n        style: styles.wrapper,\n        children: _jsx(TextInput, {\n          style: styles.input,\n          value: reviewInput,\n          onChangeText: setReviewInput,\n          placeholder: \"Write your stay experience\"\n        })\n      }), _jsx(HeightSpacer, {\n        height: 20\n      }), _jsx(ReusableBtn, {\n        onPress: function onPress() {\n          postReviews(reviewInput, rating);\n        },\n        btnText: \"Submit your review\",\n        width: SIZES.width - 50,\n        backgroundColor: COLORS.green,\n        borderColor: COLORS.green,\n        borderWidth: 0.5,\n        textColor: COLORS.white\n      })]\n    })]\n  });\n};\nexport default AddReviews;","map":{"version":3,"names":["React","useState","ReusableBtn","HeightSpacer","ReusableText","AppBar","COLORS","SIZES","styles","Rating","RatingInput","useRoute","axios","AsyncStorage","jsx","_jsx","jsxs","_jsxs","AddReviews","_ref","navigation","router","placeId","params","_React$useState","_React$useState2","_slicedToArray","rating","setRating","_useState","_useState2","reviewInput","setReviewInput","postReviews","_ref2","_asyncToGenerator","review","userId","getItem","token","accessToken","JSON","parse","id","endpoint","data","response","post","headers","Authorization","status","replace","error","console","log","_x","_x2","apply","arguments","View","children","style","height","top","left","right","title","color","white","onPress","goBack","margin","paddingTop","text","family","size","large","black","maxStars","bordered","wrapper","TextInput","input","value","onChangeText","placeholder","btnText","width","backgroundColor","green","borderColor","borderWidth","textColor"],"sources":["C:/Users/nishchal/Documents/github/native_travel_app_frontend/screens/reviews/add/AddReviews.jsx"],"sourcesContent":["import { View, Text, TextInput } from \"react-native\";\nimport React, { useState } from \"react\";\nimport {\n  ReusableBtn,\n  HeightSpacer,\n  ReusableText,\n  AppBar,\n} from \"../../../components\";\nimport { COLORS, SIZES } from \"../../../constants/theme\";\nimport styles from \"./addReviews.style\";\nimport { Rating, RatingInput } from \"react-native-stock-star-rating\";\nimport { useRoute } from \"@react-navigation/native\";\nimport axios from \"axios\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nconst AddReviews = ({navigation}) => {\n  const router = useRoute();\n  const placeId = router.params;\n  const [rating,setRating] = React.useState(0);\n  const [reviewInput, setReviewInput] = useState(\"\");\n\n  const postReviews = async (review, rating)=> {\n    const userId = await AsyncStorage.getItem('id') \n    const token = await AsyncStorage.getItem('token') \n    const accessToken = JSON.parse(token)\n    const id = JSON.parse(userId)\n\n    const endpoint = 'nativetravelappbackend-production.up.railway.app/api/reviews'\n\n    const data = {\n        \"review\": review,\n        \"rating\": rating,\n        \"user\": id,\n        \"place\": placeId\n    }\n\n    try {\n       const response = await axios.post(endpoint,data,\n            {\n              headers: {\n                Authorization: `Bearer ${accessToken}`,\n              },\n            }\n          );\n\n          if(response.status === 200){\n          navigation.replace(\"HotelDetails\", placeId)\n        }\n    } catch (error) {\n       console.log(error);\n    } \n}\n\n\n  return (\n    <View>\n      <View style={{ height: 100 }}>\n      <AppBar\n        top={40}\n        left={20}\n        right={20}\n        title={'Add Comment'}\n        color={COLORS.white}\n        onPress={() => navigation.goBack()}\n        \n      />\n      </View>\n\n      <View style={{ margin: 20, paddingTop: 30 }}>\n        <ReusableText\n          text={\"Rate your stay\"}\n          family={\"medium\"}\n          size={SIZES.large - 3}\n          color={COLORS.black}\n        />\n\n        <HeightSpacer height={15} />\n\n        <RatingInput rating={rating} setRating={setRating} size={70}  maxStars={5} bordered={false}  color={\"#FD9942\"}/>\n\n        <HeightSpacer height={15} />\n\n        <ReusableText\n          text={\"Your review\"}\n          family={\"medium\"}\n          size={SIZES.large - 3}\n          color={COLORS.black}\n        />\n\n        <HeightSpacer height={15} />\n\n        <View style={styles.wrapper}>\n          <TextInput\n            style={styles.input}\n            value={reviewInput}\n            onChangeText={setReviewInput}\n            placeholder=\"Write your stay experience\"\n          />\n        </View>\n\n        <HeightSpacer height={20} />\n\n        <ReusableBtn\n          onPress={()=> { postReviews(reviewInput, rating)}}\n          btnText={\"Submit your review\"}\n          width={SIZES.width - 50}\n          backgroundColor={COLORS.green}\n          borderColor={COLORS.green}\n          borderWidth={0.5}\n          textColor={COLORS.white}\n        />\n      </View>\n    </View>\n  );\n};\n\nexport default AddReviews;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}